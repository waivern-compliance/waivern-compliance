name: "Sample Runbook - File Analysis"
description: >
  Analyse file content for personal data.
  This is a sample runbook to demonstrate how the system works.
contact: "Paul Smith (HR) <paul.smith@company.co.uk>"

artifacts:
  # Source artifact - extracts file content
  file_content:
    name: "File Content Extraction"
    description: "Read files from the filesystem mock"
    source:
      type: "filesystem"
      properties:
        path: "./libs/waivern-filesystem/tests/waivern_filesystem/filesystem_mock_lite"
        exclude_patterns: ["*.pyc", "__pycache__"]
        max_files: 100

  # Analysis artifact - processes file content for personal data
  personal_data_analysis:
    name: "Personal Data Detection in Filesystem (Mock)"
    description: "Analyse file content for personal data using pattern matching and optional LLM validation"
    inputs: file_content
    process:
      type: "personal_data"
      properties:
        pattern_matching:
          ruleset: "personal_data"
          evidence_context_size: "large"
          maximum_evidence_count: 3
        llm_validation:
          enable_llm_validation: false
          llm_batch_size: 50
          llm_validation_mode: "standard"
    output: true
