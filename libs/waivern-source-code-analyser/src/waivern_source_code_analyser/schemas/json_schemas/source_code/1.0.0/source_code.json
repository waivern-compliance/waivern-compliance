{
  "$defs": {
    "SourceCodeAnalysisMetadataModel": {
      "description": "Pydantic model for source code analysis metadata.",
      "properties": {
        "total_files": {
          "title": "Total Files",
          "type": "integer"
        },
        "total_lines": {
          "title": "Total Lines",
          "type": "integer"
        },
        "analysis_timestamp": {
          "title": "Analysis Timestamp",
          "type": "string"
        }
      },
      "required": [
        "total_files",
        "total_lines",
        "analysis_timestamp"
      ],
      "title": "SourceCodeAnalysisMetadataModel",
      "type": "object"
    },
    "SourceCodeFileDataModel": {
      "description": "Pydantic model for source code file data.\n\nContains raw source code for pattern matching and LLM analysis.\nStructural extraction (functions, classes) has been intentionally removed -\nLLMs understand code structure natively from raw content.",
      "properties": {
        "file_path": {
          "title": "File Path",
          "type": "string"
        },
        "language": {
          "title": "Language",
          "type": "string"
        },
        "raw_content": {
          "title": "Raw Content",
          "type": "string"
        },
        "metadata": {
          "$ref": "#/$defs/SourceCodeFileMetadataModel"
        }
      },
      "required": [
        "file_path",
        "language",
        "raw_content",
        "metadata"
      ],
      "title": "SourceCodeFileDataModel",
      "type": "object"
    },
    "SourceCodeFileMetadataModel": {
      "description": "Pydantic model for source code file metadata.",
      "properties": {
        "file_size": {
          "title": "File Size",
          "type": "integer"
        },
        "line_count": {
          "title": "Line Count",
          "type": "integer"
        },
        "last_modified": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Last Modified"
        }
      },
      "required": [
        "file_size",
        "line_count"
      ],
      "title": "SourceCodeFileMetadataModel",
      "type": "object"
    }
  },
  "description": "Pydantic model for complete source code analysis data.\n\nThis model represents the full wire format for source code analysis results.\nExtends BaseSchemaOutput for schema generation support.",
  "properties": {
    "schemaVersion": {
      "description": "Schema version identifier",
      "title": "Schemaversion",
      "type": "string"
    },
    "name": {
      "description": "Name of the source code analysis",
      "title": "Name",
      "type": "string"
    },
    "description": {
      "description": "Description of the analysis",
      "title": "Description",
      "type": "string"
    },
    "source": {
      "description": "Source path or identifier",
      "title": "Source",
      "type": "string"
    },
    "metadata": {
      "$ref": "#/$defs/SourceCodeAnalysisMetadataModel",
      "description": "Analysis metadata including file counts and timestamp"
    },
    "data": {
      "description": "List of analysed source code files",
      "items": {
        "$ref": "#/$defs/SourceCodeFileDataModel"
      },
      "title": "Data",
      "type": "array"
    }
  },
  "required": [
    "schemaVersion",
    "name",
    "description",
    "source",
    "metadata",
    "data"
  ],
  "title": "SourceCodeDataModel",
  "type": "object",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.0.0"
}
