# API Gateway Request/Response Log
# Contains detailed API call information, request/response payloads, and user data
# High privacy risk due to personal data in API payloads, headers, and URL parameters
# Used for debugging, monitoring, and integration tracking

[2024-01-15 10:30:00] API_REQUEST request_id=req_abc123 method=POST path="/api/v1/users" client_ip=192.168.1.145 user_agent="Mozilla/5.0 Chrome/120.0" auth_user=sarah.johnson@gmail.com
[2024-01-15 10:30:00] REQUEST_HEADERS request_id=req_abc123 headers={"Authorization":"Bearer jwt_token_abc123","Content-Type":"application/json","X-User-Email":"sarah.johnson@gmail.com","X-User-ID":"12345"}
[2024-01-15 10:30:00] REQUEST_BODY request_id=req_abc123 payload={"firstName":"Sarah","lastName":"Johnson","email":"sarah.johnson@gmail.com","phone":"+44 20 7946 0958","address":{"street":"42 Baker Street","city":"London","postcode":"SW1A 1AA"}}
[2024-01-15 10:30:01] API_RESPONSE request_id=req_abc123 status=201 response_time=234ms size=156b
[2024-01-15 10:30:01] RESPONSE_BODY request_id=req_abc123 payload={"userId":12345,"email":"sarah.johnson@gmail.com","status":"created","profileUrl":"/users/12345"}

# Customer search API with personal data in query parameters
[2024-01-15 10:30:05] API_REQUEST request_id=req_def456 method=GET path="/api/v1/customers/search?email=michael.chen@company.co.uk&phone=%2B44-161-234-5678" client_ip=203.0.113.42 auth_user=support.agent@company.com
[2024-01-15 10:30:05] QUERY_PARAMS request_id=req_def456 params={"email":"michael.chen@company.co.uk","phone":"+44-161-234-5678","includeOrders":"true","includeAddresses":"true"}
[2024-01-15 10:30:05] API_RESPONSE request_id=req_def456 status=200 response_time=456ms size=2.3kb
[2024-01-15 10:30:05] RESPONSE_BODY request_id=req_def456 payload={"customers":[{"id":67890,"email":"michael.chen@company.co.uk","name":"Michael Chen","phone":"+44 161 234 5678","addresses":[{"street":"15 Manchester Road","city":"Manchester","postcode":"M1 1AA"}],"orders":["ORD_001","ORD_002"]}]}

# GDPR data export API request
[2024-01-15 10:30:10] API_REQUEST request_id=req_ghi789 method=POST path="/api/v1/gdpr/export" client_ip=198.51.100.23 user_agent="GDPR-Tool/1.0" auth_user=privacy.officer@company.com
[2024-01-15 10:30:10] REQUEST_BODY request_id=req_ghi789 payload={"customerEmail":"emma.wilson@btinternet.com","exportType":"full","includeAnalytics":true,"format":"json","requestReason":"GDPR Article 15 request"}
[2024-01-15 10:30:10] GDPR_PROCESSING request_id=req_ghi789 customer=emma.wilson@btinternet.com data_categories=["profile","orders","communications","analytics","preferences"] record_count=1247
[2024-01-15 10:30:11] API_RESPONSE request_id=req_ghi789 status=202 response_time=2.1s size=89b
[2024-01-15 10:30:11] RESPONSE_BODY request_id=req_ghi789 payload={"exportId":"GDPR_EXP_001","status":"processing","estimatedCompletion":"2024-01-15T10:35:00Z","downloadUrl":"https://api.company.com/exports/GDPR_EXP_001"}

# Bulk customer data API with sensitive information
[2024-01-15 10:30:15] API_REQUEST request_id=req_jkl012 method=GET path="/api/v1/customers/bulk" client_ip=10.0.0.15 auth_user=admin.user@company.com api_key=key_xyz789
[2024-01-15 10:30:15] REQUEST_HEADERS request_id=req_jkl012 headers={"Authorization":"Bearer api_key_xyz789","X-Admin-User":"admin.user@company.com","X-Export-Reason":"quarterly_report"}
[2024-01-15 10:30:15] BULK_EXPORT_PROCESSING request_id=req_jkl012 customer_count=15678 includes_personal_data=true export_scope=["basic_info","contact_details","order_summary"]
[2024-01-15 10:30:16] API_RESPONSE request_id=req_jkl012 status=200 response_time=5.67s size=25.8mb
[2024-01-15 10:30:16] RESPONSE_SAMPLE request_id=req_jkl012 sample_records=[{"id":1,"email":"customer1@domain.com","name":"Customer One"},{"id":2,"email":"customer2@email.com","name":"Customer Two"}]

# Third-party integration webhook with customer data
[2024-01-15 10:30:20] WEBHOOK_INCOMING webhook_id=hook_mno345 source=external-crm.com path="/webhooks/customer-updated" client_ip=203.0.113.67 signature_valid=true
[2024-01-15 10:30:20] WEBHOOK_PAYLOAD webhook_id=hook_mno345 payload={"event":"customer.updated","customer":{"email":"david.smith@yahoo.co.uk","name":"David Smith","phone":"+44 20 7946 1234","company":"Smith Enterprises","updatedFields":["phone","company"]}}
[2024-01-15 10:30:20] WEBHOOK_PROCESSING webhook_id=hook_mno345 customer_match=found customer_id=54321 data_updated=["phone","company"] sync_status=success
[2024-01-15 10:30:21] WEBHOOK_RESPONSE webhook_id=hook_mno345 status=200 response_time=123ms response_body={"status":"processed","customerId":"54321"}

# Payment API with financial data
[2024-01-15 10:30:25] API_REQUEST request_id=req_pqr678 method=POST path="/api/v1/payments" client_ip=192.168.1.89 auth_user=lisa.rodriguez@hotmail.com
[2024-01-15 10:30:25] REQUEST_BODY request_id=req_pqr678 payload={"amount":149.99,"currency":"GBP","paymentMethod":"card","cardToken":"tok_abc123","billingAddress":{"name":"Lisa Rodriguez","street":"123 High Street","city":"Birmingham","postcode":"B1 2CD","country":"UK"}}
[2024-01-15 10:30:25] PAYMENT_PROCESSING request_id=req_pqr678 gateway=stripe customer_id=cus_def456 payment_intent=pi_123abc amount_gbp=149.99
[2024-01-15 10:30:26] API_RESPONSE request_id=req_pqr678 status=200 response_time=1.23s size=456b
[2024-01-15 10:30:26] RESPONSE_BODY request_id=req_pqr678 payload={"transactionId":"TXN_001","status":"success","paymentMethod":"****1234","receipt":"https://api.company.com/receipts/TXN_001.pdf"}

# User profile update API
[2024-01-15 10:30:30] API_REQUEST request_id=req_stu901 method=PUT path="/api/v1/users/98765/profile" client_ip=84.91.132.45 auth_user=james.oconnor@icloud.com
[2024-01-15 10:30:30] REQUEST_BODY request_id=req_stu901 payload={"firstName":"James","lastName":"O'Connor","email":"james.oconnor@icloud.com","phone":"+44 7700 900123","preferences":{"marketing":false,"analytics":true,"notifications":{"email":true,"sms":false}}}
[2024-01-15 10:30:30] PROFILE_VALIDATION request_id=req_stu901 user_id=98765 email_change=false phone_change=true old_phone="+44 20 7946 0958" new_phone="+44 7700 900123"
[2024-01-15 10:30:31] API_RESPONSE request_id=req_stu901 status=200 response_time=345ms size=234b
[2024-01-15 10:30:31] RESPONSE_BODY request_id=req_stu901 payload={"userId":98765,"updated":true,"changes":["phone","preferences"],"lastModified":"2024-01-15T10:30:31Z"}

# Support ticket API with customer communications
[2024-01-15 10:30:35] API_REQUEST request_id=req_vwx234 method=POST path="/api/v1/support/tickets" client_ip=151.101.193.67 auth_user=support.agent@company.com
[2024-01-15 10:30:35] REQUEST_BODY request_id=req_vwx234 payload={"customerId":"CUST_789","customerEmail":"maria.garcia@telefonica.es","subject":"Billing inquiry","description":"Customer reports incorrect charge on card ending 5678. Customer phone: +34 91 123 4567","priority":"normal","category":"billing"}
[2024-01-15 10:30:35] TICKET_CREATION request_id=req_vwx234 ticket_id=SUP_2024_001 customer_data_indexed=true pii_detected=["email","phone","card_reference"] auto_assignment=billing_team
[2024-01-15 10:30:36] API_RESPONSE request_id=req_vwx234 status=201 response_time=567ms size=123b
[2024-01-15 10:30:36] RESPONSE_BODY request_id=req_vwx234 payload={"ticketId":"SUP_2024_001","status":"open","assignedTo":"billing.specialist@company.com","estimatedResponse":"4 hours"}

# Marketing API with customer segmentation
[2024-01-15 10:30:40] API_REQUEST request_id=req_yza567 method=GET path="/api/v1/marketing/segments/high-value-customers" client_ip=192.168.1.134 auth_user=marketing.manager@company.com
[2024-01-15 10:30:40] SEGMENTATION_QUERY request_id=req_yza567 criteria={"totalSpent":{"gt":1000},"lastOrder":{"gte":"2024-01-01"},"marketingConsent":true} estimated_matches=1234
[2024-01-15 10:30:40] API_RESPONSE request_id=req_yza567 status=200 response_time=789ms size=15.6kb
[2024-01-15 10:30:40] RESPONSE_BODY request_id=req_yza567 payload={"segment":"high-value-customers","customerCount":1234,"customers":[{"id":"CUST_001","email":"premium.customer@business.co.uk","totalSpent":2500.00,"lastOrderDate":"2024-01-10"},{"id":"CUST_002","email":"valued.customer@company.com","totalSpent":1850.50,"lastOrderDate":"2024-01-12"}]}

# Authentication API with user credentials
[2024-01-15 10:30:45] API_REQUEST request_id=req_bcd890 method=POST path="/api/v1/auth/login" client_ip=217.138.219.34 user_agent="Mobile-App/2.1.0"
[2024-01-15 10:30:45] REQUEST_BODY request_id=req_bcd890 payload={"email":"robert.anderson@gmail.com","password":"***REDACTED***","deviceId":"mobile_xyz789","rememberMe":true}
[2024-01-15 10:30:45] AUTH_PROCESSING request_id=req_bcd890 user_email=robert.anderson@gmail.com password_valid=true device_registration=new_device device_fingerprint=fp_mobile123
[2024-01-15 10:30:46] API_RESPONSE request_id=req_bcd890 status=200 response_time=234ms size=678b
[2024-01-15 10:30:46] RESPONSE_BODY request_id=req_bcd890 payload={"accessToken":"jwt_abc123def456","refreshToken":"refresh_xyz789","user":{"id":13579,"email":"robert.anderson@gmail.com","name":"Robert Anderson","lastLogin":"2024-01-15T10:30:46Z"}}

# Analytics API with personal behavior data
[2024-01-15 10:30:50] API_REQUEST request_id=req_efg123 method=GET path="/api/v1/analytics/user/24680/behavior" client_ip=10.0.0.67 auth_user=analytics.team@company.com
[2024-01-15 10:30:50] BEHAVIORAL_DATA_QUERY request_id=req_efg123 user_id=24680 user_email=jennifer.adams@company.com date_range=["2024-01-01","2024-01-15"] data_types=["page_views","purchases","emails_opened"]
[2024-01-15 10:30:50] API_RESPONSE request_id=req_efg123 status=200 response_time=1.45s size=8.9kb
[2024-01-15 10:30:50] RESPONSE_BODY request_id=req_efg123 payload={"userId":24680,"behaviorSummary":{"pageViews":156,"purchases":12,"emailsOpened":34,"avgSessionDuration":"12m34s","lastActivity":"2024-01-15T09:15:22Z","deviceTypes":["desktop","mobile"],"locationHistory":["London","Manchester"]}}

# Data deletion API for GDPR compliance
[2024-01-15 10:30:55] API_REQUEST request_id=req_hij456 method=DELETE path="/api/v1/users/87654" client_ip=10.0.0.25 auth_user=privacy.officer@company.com
[2024-01-15 10:30:55] REQUEST_HEADERS request_id=req_hij456 headers={"Authorization":"Bearer privacy_token_123","X-Deletion-Reason":"GDPR Article 17 - Right to be forgotten","X-Customer-Email":"premium.customer@business.co.uk"}
[2024-01-15 10:30:55] DELETION_PROCESSING request_id=req_hij456 user_id=87654 user_email=premium.customer@business.co.uk cascading_deletes=true affected_systems=["crm","email","analytics","backups"] estimated_records=456
[2024-01-15 10:30:56] API_RESPONSE request_id=req_hij456 status=202 response_time=2.34s size=234b
[2024-01-15 10:30:56] RESPONSE_BODY request_id=req_hij456 payload={"deletionId":"DEL_2024_001","status":"processing","estimatedCompletion":"2024-01-15T11:30:56Z","affectedRecords":456}

# API rate limiting with user identification
[2024-01-15 10:31:00] RATE_LIMIT_EXCEEDED api_key=key_mobile_app_123 client_ip=203.0.113.89 user_email=mobile.user@app.com requests_per_hour=1001 limit=1000 blocked_duration=3600s
[2024-01-15 10:31:00] API_REQUEST request_id=req_klm789 method=GET path="/api/v1/users/profile" client_ip=203.0.113.89 status=429 auth_user=mobile.user@app.com
[2024-01-15 10:31:00] RESPONSE_BODY request_id=req_klm789 payload={"error":"Rate limit exceeded","message":"API limit of 1000 requests per hour exceeded for user mobile.user@app.com","retryAfter":3600}

# Webhook delivery with personal data
[2024-01-15 10:31:05] WEBHOOK_OUTGOING webhook_id=out_nop012 destination="https://client-system.com/webhooks/user-updated" event=user_profile_updated user_id=11223 user_email=developer.test@company.com
[2024-01-15 10:31:05] WEBHOOK_PAYLOAD webhook_id=out_nop012 payload={"event":"user.profile.updated","timestamp":"2024-01-15T10:31:05Z","user":{"id":11223,"email":"developer.test@company.com","name":"Developer Test","phone":"+44 161 234 5678","updatedFields":["phone"]}}
[2024-01-15 10:31:05] WEBHOOK_DELIVERY webhook_id=out_nop012 status=200 response_time=456ms attempts=1 client_response={"status":"received","processed":true}

# Admin API with bulk operations
[2024-01-15 10:31:10] API_REQUEST request_id=req_qrs345 method=POST path="/api/v1/admin/users/bulk-update" client_ip=192.168.1.200 auth_user=system.admin@company.com
[2024-01-15 10:31:10] REQUEST_BODY request_id=req_qrs345 payload={"operation":"update_consent","filters":{"createdBefore":"2018-05-25"},"updates":{"gdprConsent":"explicit","consentDate":"2024-01-15T10:31:10Z"},"dryRun":false}
[2024-01-15 10:31:10] BULK_OPERATION request_id=req_qrs345 affected_users=2345 operation=gdpr_consent_update admin_authorization=verified audit_logged=true
[2024-01-15 10:31:11] API_RESPONSE request_id=req_qrs345 status=200 response_time=8.9s size=456b
[2024-01-15 10:31:11] RESPONSE_BODY request_id=req_qrs345 payload={"operationId":"BULK_001","status":"completed","affectedUsers":2345,"updatedRecords":2345,"errors":0,"auditTrailId":"AUDIT_2024_001"}

# Integration API error with personal data exposure
[2024-01-15 10:31:15] API_REQUEST request_id=req_tuv678 method=POST path="/api/v1/integrations/crm/sync" client_ip=198.51.100.156 auth_user=integration.service@company.com
[2024-01-15 10:31:15] REQUEST_BODY request_id=req_tuv678 payload={"customers":[{"email":"security.test@company.com","name":"Security Test","phone":"+44 20 7946 0958","company":"Test Company Ltd"}]}
[2024-01-15 10:31:15] INTEGRATION_ERROR request_id=req_tuv678 error="CRM service unavailable" customer_data_queued=true retry_scheduled=true failed_customers=["security.test@company.com"]
[2024-01-15 10:31:16] API_RESPONSE request_id=req_tuv678 status=503 response_time=30.0s size=234b
[2024-01-15 10:31:16] RESPONSE_BODY request_id=req_tuv678 payload={"error":"Service temporarily unavailable","message":"CRM integration failed for customer security.test@company.com","retryAt":"2024-01-15T10:36:16Z","queuedForRetry":true}
