name: "Sample Runbook"
description: >
  Example runbook demonstrating the schema structure.
  This shows how to configure connectors, analysers, and execution steps
  for a complete WCT analysis pipeline.

connectors:
  - name: "sample_filesystem_connector"
    type: "filesystem"
    properties:
      path: "./data"
      exclude_patterns: ["*.pyc", "__pycache__"]
      max_files: 100

  - name: "sample_database_connector"
    type: "mysql"
    properties:
      max_rows_per_table: 50
      # Database credentials come from environment variables:
      # MYSQL_HOST, MYSQL_USER, MYSQL_PASSWORD, MYSQL_DATABASE

analysers:
  - name: "personal_data_detector"
    type: "personal_data_analyser"
    properties:
      evidence_context_size: "medium"
      enable_llm_validation: false
      llm_batch_size: 50
    metadata:
      priority: "high"
      description: "Detects personal data patterns in content"

  - name: "processing_purpose_detector"
    type: "processing_purpose_analyser"
    properties:
      evidence_context_size: "long"
      enable_llm_validation: true
      confidence_threshold: 0.7
    metadata:
      priority: "medium"
      description: "Identifies GDPR processing purposes"
      compliance_frameworks: ["GDPR", "CCPA"]

execution:
  - connector: "sample_filesystem_connector"
    analyser: "personal_data_detector"
    input_schema_name: "standard_input"
    output_schema_name: "personal_data_finding"
    context:
      description: "Analyze filesystem content for personal data"
      priority: "high"
      analysis_scope: "comprehensive"

  - connector: "sample_database_connector"
    analyser: "personal_data_detector"
    input_schema_name: "standard_input"
    output_schema_name: "personal_data_finding"
    context:
      description: "Scan database records for personal information"
      priority: "critical"
      sensitivity_level: "high"

  - connector: "sample_database_connector"
    analyser: "processing_purpose_detector"
    input_schema_name: "standard_input"
    output_schema_name: "processing_purpose_finding"
    context:
      description: "Identify data processing purposes in database"
      priority: "medium"
      compliance_frameworks: ["GDPR"]
      analysis_depth: "detailed"
