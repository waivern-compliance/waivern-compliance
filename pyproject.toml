[project]
name = "waivern-analyser"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.9"
dependencies = [
    "importlib-metadata ; python_full_version < '3.10'",
    "waivern-connectors-core",
    "waivern-rulesets-core",
]

[project.scripts]
waivern-analyser = "waivern_analyser:main"

[tool.uv.workspace]
members = ["src/connectors/*", "src/rulesets/*"]

[tool.uv.sources]
waivern-connectors-core = { workspace = true }
waivern-rulesets-core = { workspace = true }

[dependency-groups]
dev = ["basedpyright>=1.29.2", "pytest>=8.4.0", "ruff>=0.11.12"]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["src/waivern_analyser"]

[tool.pytest.ini_options]
addopts = [
    # Allow test files to have the same name in different directories.
    # This is necessary because we have multiple packages in the workspace, each
    # with a `tests` directory.
    # See https://docs.pytest.org/en/stable/explanation/goodpractices.html#tests-outside-application-code
    "--import-mode=importlib",
]
